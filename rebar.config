% -*- erlang -*-
{sub_dirs, ["rel", "apps/*"]}.
{lib_dirs, ["apps"]}.
{cover_enabled, true}.
{erl_opts, [debug_info, {i, "../../deps/bitcask/include"}, warnings_as_errors, {parse_transform, lager_transform}]}.
{edoc_opts, [{dir, "../../doc"}]}.
{eunit_opts, [{report,{eunit_surefire,[{dir,"."}]}}]}.
{deps, [
        {lager, "2.0.*", {git, "git://github.com/basho/lager", {tag,"2.0.3"}}},
        {fifo_dt, "0.1.*", {git, "https://github.com/project-fifo/fifo_dt.git", {tag, "0.1.32"}}},
        {cuttlefish, ".*", {git, "https://github.com/basho/cuttlefish.git", {tag, "2.0.0"}}},
        {meck, "0.8.1", {git, "git://github.com/basho/meck.git", {tag, "0.8.1"}}},
        {erlcloud, ".*", {git, "git://github.com/project-fifo/erlcloud", {branch, "fifo"}}},
        {webmachine, ".*", {git, "git://github.com/basho/webmachine", {tag, "1.10.3"}}},
        {jsx, ".*", {git, "http://github.com/talentdeficit/jsx.git", {tag, "v1.4.4"}}},
        {riak_core, ".*", {git, "git://github.com/project-fifo/riak_core", {branch, "fifo-0.6.1"}}},
        {fifo_db, ".*", {git, "https://github.com/project-fifo/fifo-db.git", {tag, "0.1.5"}}},
        {riak_ensemble, ".*", {git, "https://github.com/basho/riak_ensemble.git", {tag, "2.0.0"}}},
        {statebox, ".*", {git, "https://github.com/unisontech/statebox.git", {branch, master}}},
        {fifo_s3, ".*", {git, "https://github.com/project-fifo/fifo_s3.git", {tag, "0.1.7"}}},
        {uuid, ".*", {git, "https://github.com/project-fifo/erlang-uuid.git", {branch, "master"}}},
        {hackney, ".*", {git, "git://github.com/benoitc/hackney.git", {tag, "0.6.1"}}},
        {bitcask, ".*", {git, "https://github.com/basho/bitcask.git", {tag, "1.6.1"}}},
        {eplugin, ".*", {git, "http://github.com/Licenser/eplugin.git", {tag, "0.1.2"}}},
        {sgte, ".*", {git, "https://github.com/project-fifo/sgte.git", {branch, master}}},
        {rankmatcher, ".*", {git, "https://github.com/Licenser/rankmatcher.git", {branch, master}}},
        {mdns_server_lib, ".*", {git, "https://github.com/Licenser/mdns_server_lib.git", {tag, "0.1.16"}}},
        {jsxd, ".*", {git, "https://github.com/Licenser/jsxd.git", {tag, "0.1.8"}}},
        {fifo_spec, "0.1.13", {git, "https://github.com/project-fifo/fifo_spec.git", {tag, "0.1.13"}}},
        {fifo_utils, "0.1.5", {git, "https://github.com/project-fifo/fifo_utils.git", {tag, "0.1.5"}}},
        {libhowl, "0.1.19", {git, "https://github.com/project-fifo/libhowl.git", {tag, "0.1.19"}}},
        {libchunter, "0.1.34", {git, "https://github.com/project-fifo/libchunter.git", {tag, "0.1.34"}}},
        {libsnarl, "0.3.9", {git, "https://github.com/project-fifo/libsnarl.git", {tag, "0.3.9"}}},
        {libleofs, ".*", {git, "https://github.com/project-fifo/libleofs.git", {tag, "0.1.1"}}},
        {lager_watchdog, ".*", {git, "https://github.com/project-fifo/lager_watchdog.git", {tag, "0.1.7"}}},
        {folsom_ddb, ".*", {git, "https://github.com/dalmatinerdb/folsom_ddb.git", {tag, "0.1.3"}}},
        {fqc, ".*", {git, "https://github.com/project-fifo/fqc.git", {tag, "0.1.0"}}},
        {recon, ".*", {git, "https://github.com/ferd/recon.git", {tag, "2.2.1"}}}
       ]}.

{plugin_dir, "deps/cuttlefish/src"}.
{plugins, [cuttlefish_rebar_plugin]}.

{xref_extra_paths,["apps/sniffle_coverage/src", "apps/sniffle_watchdog/src"]}.

% xref checks to run
{xref_checks, [undefined_function_calls, undefined_functions,
               locals_not_used, % exports_not_used, that is a problem with having multiple apps
               deprecated_function_calls, deprecated_functions]}.

